<!doctype html>
<html lang="en" data-version="1494427462127">
<head>
	<title>Compressing Pop Lyrics</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<meta property="og:title" content="Compressing Pop Lyrics">
	<meta property="og:type" content="article">
	<meta property="og:locale" content="en_US">
	
    <!-- d3-tip default tooltip styles -->
    <link rel="stylesheet" href="//rawgithub.com/Caged/d3-tip/master/examples/example-styles.css">
    <!-- TODO: gotta be a better way to do this. This file exists in node_modules. -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet">

		<style>html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}body{font-feature-settings:'kern' 1,'onum' 1,'liga' 0;-webkit-tap-highlight-color:transparent}b,strong{font-weight:700}em,i{font-style:italic}ul{list-style-type:none}img,video{display:block;width:100%}button{cursor:pointer;border:none;outline:0;margin:0;padding:0;font-size:1rem}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.hide-accessible{width:1px;height:1px;overflow:hidden;position:absolute}.hide-invisible{visibility:hidden}.hide-display{display:none}header{text-align:center;z-index:3000;width:13rem;margin:2.5rem auto}header a.logo{overflow:hidden;zoom:1;border-bottom:none;display:block}header a.logo .logo__text{text-transform:uppercase;color:#2a2a2a;display:inline-block;width:100%;margin:0;padding:0;line-height:48px;font-size:.9rem;font-weight:400;letter-spacing:.05em}header a.logo .logo__svg{width:48px;height:48px;fill:#2a2a2a;display:block;margin:0 auto}#compression-mini{width:100%;margin-top:5rem;padding-bottom:500px}#compression-mini .size-original{font-family:'Atlas Grotesk Web';font-size:.85rem}#compression-mini .size-compressed{font-family:'Atlas Grotesk Web';font-size:.85rem}#compression-mini .odometer{border-top:1px dashed #d4d4d4}#compression-mini .slide-wrapper{padding-top:0;padding-bottom:10em}#compression-mini .slide-wrapper .slide{padding:1.5rem}#compression-mini .slide-wrapper.first{padding-top:5em}#compression-mini .slide-wrapper.progressive{padding-bottom:15em}.graphic-vis h2{margin-top:1.5rem;margin-bottom:1.3rem;font-size:1rem;font-weight:600}.graphic-vis svg{border:1px dashed #d4d4d4;box-shadow:7px -6px 0 1px #f5f5f5}#compression{width:95%;margin:0 auto;position:relative;margin-bottom:4rem;margin-top:1rem}#compression .prose{float:right;width:24rem}#compression select{font-family:'Atlas Grotesk Web';font-size:.8rem;height:1.5rem;font-weight:500}#compression .reduction-end text{font-family:'Atlas Grotesk Web';font-size:.8rem;font-weight:400}#compression .odometer{font-family:'Atlas Grotesk Web';font-size:.9rem;font-weight:700}#compression .arrow{opacity:.7}.tk-pt-serif{font-family:Georgia,Times,serif}.loaded-pt-serif .tk-pt-serif{font-family:'PT Serif',Georgia,Times,serif}.tk-roboto{font-family:Helvetica,Arial,sans-serif}.loaded-roboto .tk-roboto{font-family:Roboto,Helvetica,Arial,sans-serif}.tk-Publico Text Web{font-family:'Canela Web'}.loaded-Publico Text Web .tk-Publico Text Web{font-family:'Atlas Grotesk Web','Canela Web'}body,html{background-color:#fff;color:#2a2a2a;font-size:17px}p{line-height:1.6;margin-bottom:10px;font-family:'Publico Text Web'}p a{text-decoration:underline;color:inherit}p a:hover{color:red}.row blockquote p{font-family:'Atlas Grotesk Web';font-size:.85rem}.prose{max-width:40rem;margin:0 auto;margin-bottom:1.3em;font-size:1rem;line-height:1.7;font-weight:400;color:#000}.prose-big{font-size:1.2rem;line-height:1.9;font-weight:100;margin-bottom:1rem}.prose small{font-size:.8rem;line-height:.6}ul.prose{list-style-type:square}h1{font-size:32px;margin-bottom:30px}h2{font-size:1.6rem;font-family:'Atlas Grotesk Web';font-weight:100;max-width:40rem;margin:0 auto;margin-bottom:1.3rem;margin-top:4rem;color:rgba(0,0,0,.9)}.graphic{width:80%;margin:0 auto}.graphic.graphic-fullwidth{width:100%}.prose-pull-quote{margin-top:3rem;margin-bottom:2rem}.flex-box{-webkit-display:flex;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}footer{display:none}small{font-size:1rem}button{padding:6px;margin:6px;border-radius:5px}#discog-widget .select2{max-width:13em}.spacer{height:300px}#girls{float:right;width:40%;display:none}.tick text{font-family:'Atlas Grotesk Web';font-weight:500;font-size:.65rem}.vline text{font-family:'Atlas Grotesk Web';font-weight:500;letter-spacing:-.02rem}.xaxis-label{font-family:'Atlas Grotesk Web';font-size:.8rem;font-weight:600}.artists-bubble-text{font-family:'Atlas Grotesk Web';font-size:.6rem;font-weight:600}.songlabel{font-family:'Atlas Grotesk Web';font-size:.6rem;font-weight:600}.decade-controls{margin:0 auto;width:33%;border:2px solid #999;border-radius:5px;display:block}.decade-controls a.decade{cursor:pointer;text-align:center;display:inline-block;height:3rem;vertical-align:middle;width:13%;border:1px solid #999;color:#999;text-transform:lowercase;font-variant:small-caps}.decade-controls a.decade.active{color:#000}@media only screen and (min-width:25em){.hack{display:none}}@media only screen and (min-width:40em){.hack{display:none}}@media only screen and (min-width:50em){.hack{display:none}}@media only screen and (min-width:60em){.hack{display:none}}</style>
		
	<style>@font-face{font-family:'PT Serif';font-style:normal;font-weight:400;src:local('PT Serif'),local('PTSerif-Regular'),url(assets/fonts/pt-serif-v8-latin-regular.woff2) format('woff2'),url(assets/fonts/pt-serif-v8-latin-regular.woff) format('woff')}@font-face{font-family:'PT Serif';font-style:normal;font-weight:700;src:local('PT Serif Bold'),local('PTSerif-Bold'),url(assets/fonts/pt-serif-v8-latin-700.woff2) format('woff2'),url(assets/fonts/pt-serif-v8-latin-700.woff) format('woff')}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(assets/fonts/roboto-v15-latin-regular.woff2) format('woff2'),url(assets/fonts/roboto-v15-latin-regular.woff) format('woff')}@font-face{font-family:Roboto;font-style:normal;font-weight:700;src:local('Roboto Bold'),local('Roboto-Bold'),url(assets/fonts/roboto-v15-latin-700.woff2) format('woff2'),url(assets/fonts/roboto-v15-latin-700.woff) format('woff')}@font-face{font-family:'Atlas Grotesk Web';src:url(assets/fonts/AtlasGrotesk-Medium-Web.eot);src:url(assets/fonts/AtlasGrotesk-Medium-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/AtlasGrotesk-Medium-Web.woff2) format('woff2'),url(assets/fonts/AtlasGrotesk-Medium-Web.woff) format('woff');font-weight:500;font-style:normal;font-stretch:normal}@font-face{font-family:'Atlas Grotesk Web';src:url(assets/fonts/AtlasGrotesk-Regular-Web.eot);src:url(assets/fonts/AtlasGrotesk-Regular-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/AtlasGrotesk-Regular-Web.woff2) format('woff2'),url(assets/fonts/AtlasGrotesk-Regular-Web.woff) format('woff');font-weight:400;font-style:normal;font-stretch:normal}@font-face{font-family:'Atlas Grotesk Web';src:url(assets/fonts/AtlasGrotesk-Light-Web.eot);src:url(assets/fonts/AtlasGrotesk-Light-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/AtlasGrotesk-Light-Web.woff2) format('woff2'),url(assets/fonts/AtlasGrotesk-Light-Web.woff) format('woff');font-weight:300;font-style:normal;font-stretch:normal}@font-face{font-family:'Canela Web';src:url(assets/fonts/Canela-Bold-Web.eot);src:url(assets/fonts/Canela-Bold-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/Canela-Bold-Web.woff2) format('woff2'),url(assets/fonts/Canela-Bold-Web.woff) format('woff');font-weight:700;font-style:normal;font-stretch:normal}@font-face{font-family:'Canela Web';src:url(assets/fonts/Canela-Light-Web.eot);src:url(assets/fonts/Canela-Light-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/Canela-Light-Web.woff2) format('woff2'),url(assets/fonts/Canela-Light-Web.woff) format('woff');font-weight:300;font-style:normal;font-stretch:normal}@font-face{font-family:'Publico Text Web';src:url(assets/fonts/PublicoText-Italic-Web.eot);src:url(assets/fonts/PublicoText-Italic-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/PublicoText-Italic-Web.woff2) format('woff2'),url(assets/fonts/PublicoText-Italic-Web.woff) format('woff');font-weight:400;font-style:italic;font-stretch:normal}@font-face{font-family:'Publico Text Web';src:url(assets/fonts/PublicoText-Roman-Web.eot);src:url(assets/fonts/PublicoText-Roman-Web.eot?#iefix) format('embedded-opentype'),url(assets/fonts/PublicoText-Roman-Web.woff2) format('woff2'),url(assets/fonts/PublicoText-Roman-Web.woff) format('woff');font-weight:400;font-style:normal;font-stretch:normal}</style>
	
		<script>!function(e){e.$fuse$=e,e.pkg("default",{},function(e){e.file("critical.js",function(e,t,n,o,i){"use strict";var r=t("./utils/load-font"),a=[{family:"PT Serif",weight:400},{family:"PT Serif",weight:700}],s=[{family:"Roboto",weight:400},{family:"Roboto",weight:700}];(0,r.loadFontGroup)(a),(0,r.loadFontGroup)(s)}),e.file("utils/load-font.js",function(e,t,n,o,i){"use strict";function r(e){var t=e.toLowerCase().replace(/ /g,"-"),n="loaded-"+t;(0,l.addClass)(d,n)}function a(e){console.error(e)}function s(e){var t=e.family,n=e.weight;e.style;new f.default(t,{weight:n}).load(null,p).then(function(){return r(e)}).catch(a)}function u(e){var t=e.map(function(e){return new Promise(function(t,n){var o=e.family,i=e.weight,r=e.style,a=void 0===r?"normal":r;return new f.default(o,{weight:i,style:a}).load(null,p).then(function(){return t(o)}).catch(function(e){return n(e)})})});Promise.all(t).then(function(e){return r(e[0])}).catch(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.loadFontGroup=e.loadFont=void 0,t("promis");var c=t("fontfaceobserver"),f=function(e){return e&&e.__esModule?e:{default:e}}(c),l=t("./dom"),d=document.documentElement,p=5e3;e.loadFont=s,e.loadFontGroup=u}),e.file("utils/dom.js",function(e,t,n,o,i){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return document.querySelector(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return[].concat(r(t.querySelectorAll(e)))}function u(e,t){return[].concat(r(e.querySelectorAll(t)))}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(e,t){e.classList?e.classList.add(t):e.className=e.className+" "+t}function l(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function d(e,t){t=t||0;var n=e.getBoundingClientRect().top+t,o=window.pageYOffset||document.documentElement.scrollTop,i=o+n;window.scrollTo(0,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.select=a,e.selectAll=s,e.find=u,e.removeClass=c,e.addClass=f,e.hasClass=l,e.jumpTo=d})}),e.pkg("promis",{},function(e){return e.file("promise.js",function(e,t,n,o,i){!function(){"use strict";function e(e){l.push(e),1==l.length&&f()}function t(){for(;l.length;)l[0](),l.shift()}function n(e){this.a=d,this.b=void 0,this.f=[];var t=this;try{e(function(e){r(t,e)},function(e){a(t,e)})}catch(e){a(t,e)}}function o(e){return new n(function(t,n){n(e)})}function i(e){return new n(function(t){t(e)})}function r(e,t){if(e.a==d){if(t==e)throw new TypeError;var n=!1;try{var o=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof o)return void o.call(t,function(t){n||r(e,t),n=!0},function(t){n||a(e,t),n=!0})}catch(t){return void(n||a(e,t))}e.a=0,e.b=t,s(e)}}function a(e,t){if(e.a==d){if(t==e)throw new TypeError;e.a=1,e.b=t,s(e)}}function s(t){e(function(){if(t.a!=d)for(;t.f.length;){var e=t.f.shift(),n=e[0],o=e[1],i=e[2],e=e[3];try{0==t.a?i("function"==typeof n?n.call(void 0,t.b):t.b):1==t.a&&("function"==typeof o?i(o.call(void 0,t.b)):e(t.b))}catch(t){e(t)}}})}function u(e){return new n(function(t,n){var o=0,r=[];0==e.length&&t(r);for(var a=0;a<e.length;a+=1)i(e[a]).c(function(n){return function(i){r[n]=i,(o+=1)==e.length&&t(r)}}(a),n)})}function c(e){return new n(function(t,n){for(var o=0;o<e.length;o+=1)i(e[o]).c(t,n)})}var f,l=[];f=function(){setTimeout(t)};var d=2;n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var o=this;return new n(function(n,i){o.f.push([e,t,n,i]),s(o)})},window.Promise||(window.Promise=n,window.Promise.resolve=i,window.Promise.reject=o,window.Promise.race=c,window.Promise.all=u,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}()}),e.entry="promise.js"}),e.pkg("fontfaceobserver",{},function(e){return e.file("fontfaceobserver.standalone.js",function(e,t,n,o,i){!function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function o(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function r(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(t,n){function o(){var e=i;r(e)&&e.a.parentNode&&n(e.g)}var i=t;e(t.b,o),e(t.c,o),r(t)}function s(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function u(){if(null===p)if(c()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);p=!!e&&603>parseInt(e[1],10)}else p=!1;return p}function c(){return null===m&&(m=!!document.fonts),m}function f(){if(null===h){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}h=""!==e.style.font}return h}function l(e,t){return[e.style,e.weight,f()?e.stretch:"","100px",t].join(" ")}var d=null,p=null,h=null,m=null;s.prototype.load=function(e,n){var r=this,s=e||"BESbswy",f=0,p=n||3e3,h=(new Date).getTime();return new Promise(function(e,n){if(c()&&!u()){var m=new Promise(function(e,t){function n(){(new Date).getTime()-h>=p?t():document.fonts.load(l(r,'"'+r.family+'"'),s).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),v=new Promise(function(e,t){f=setTimeout(t,p)});Promise.race([v,m]).then(function(){clearTimeout(f),e(r)},function(){n(r)})}else t(function(){function t(){var t;(t=-1!=w&&-1!=g||-1!=w&&-1!=y||-1!=g&&-1!=y)&&((t=w!=g&&w!=y&&g!=y)||(null===d&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=d&&(w==b&&g==b&&y==b||w==x&&g==x&&y==x||w==_&&g==_&&y==_)),t=!t),t&&(j.parentNode&&j.parentNode.removeChild(j),clearTimeout(f),e(r))}function u(){if((new Date).getTime()-h>=p)j.parentNode&&j.parentNode.removeChild(j),n(r);else{var e=document.hidden;!0!==e&&void 0!==e||(w=c.a.offsetWidth,g=m.a.offsetWidth,y=v.a.offsetWidth,t()),f=setTimeout(u,50)}}var c=new o(s),m=new o(s),v=new o(s),w=-1,g=-1,y=-1,b=-1,x=-1,_=-1,j=document.createElement("div");j.dir="ltr",i(c,l(r,"sans-serif")),i(m,l(r,"serif")),i(v,l(r,"monospace")),j.appendChild(c.a),j.appendChild(m.a),j.appendChild(v.a),document.body.appendChild(j),b=c.a.offsetWidth,x=m.a.offsetWidth,_=v.a.offsetWidth,u(),a(c,function(e){w=e,t()}),i(c,l(r,'"'+r.family+'",sans-serif')),a(m,function(e){g=e,t()}),i(m,l(r,'"'+r.family+'",serif')),a(v,function(e){y=e,t()}),i(v,l(r,'"'+r.family+'",monospace'))})})},void 0!==n?n.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)}()}),e.entry="fontfaceobserver.standalone.js"}),e.import("default/critical.js"),e.main("default/critical.js")}(function(e){if(e.FuseBox)return e.FuseBox;var t="undefined"!=typeof window&&window.navigator;t&&(window.global=window),e=t&&"undefined"==typeof __fbx__dnm__?e:module.exports;var n=t?window.__fsbx__=window.__fsbx__||{}:global.$fsbx=global.$fsbx||{};t||(global.require=require);var o=n.p=n.p||{},i=n.e=n.e||{},r=function(e){var n=e.charCodeAt(0),o=e.charCodeAt(1);if((t||58!==o)&&(n>=97&&n<=122||64===n)){if(64===n){var i=e.split("/"),r=i.splice(2,i.length).join("/");return[i[0]+"/"+i[1],r||void 0]}var a=e.indexOf("/");if(a===-1)return[e];return[e.substring(0,a),e.substring(a+1)]}},a=function(e){return e.substring(0,e.lastIndexOf("/"))||"./"},s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],o=0,i=arguments.length;o<i;o++)n=n.concat(arguments[o].split("/"));for(var r=[],o=0,i=n.length;o<i;o++){var a=n[o];a&&"."!==a&&(".."===a?r.pop():r.push(a))}return""===n[0]&&r.unshift(""),r.join("/")||(r.length?"/":".")},u=function(e){var t=e.match(/\.(\w{1,})$/);if(t){return t[1]?e:e+".js"}return e+".js"},c=function(e){if(t){var n,o=document,i=o.getElementsByTagName("head")[0];/\.css$/.test(e)?(n=o.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=e):(n=o.createElement("script"),n.type="text/javascript",n.src=e,n.async=!0),i.insertBefore(n,i.firstChild)}},f=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},l=function(e){return{server:require(e)}},d=function(e,n){var i=n.path||"./",a=n.pkg||"default",c=r(e);if(c&&(i="./",a=c[0],n.v&&n.v[a]&&(a=a+"@"+n.v[a]),e=c[1]),e)if(126===e.charCodeAt(0))e=e.slice(2,e.length),i="./";else if(!t&&(47===e.charCodeAt(0)||58===e.charCodeAt(1)))return l(e);var f=o[a];if(!f){if(t)throw'Package was not found "'+a+'"';return l(a+(e?"/"+e:""))}e||(e="./"+f.s.entry);var d,p=s(i,e),h=u(p),m=f.f[h];return!m&&h.indexOf("*")>-1&&(d=h),m||d||(h=s(p,"/","index.js"),m=f.f[h],m||(h=p+".js",m=f.f[h]),m||(m=f.f[p+".jsx"]),m||(h=p+"/index.jsx",m=f.f[h])),{file:m,wildcard:d,pkgName:a,versions:f.v,filePath:p,validPath:h}},p=function(e,n){if(!t)return n(/\.(js|json)$/.test(e)?global.require(e):"");var o;o=new XMLHttpRequest,o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status){var t=o.getResponseHeader("Content-Type"),i=o.responseText;/json/.test(t)?i="module.exports = "+i:/javascript/.test(t)||(i="module.exports = "+JSON.stringify(i));var r=s("./",e);v.dynamic(r,i),n(v.import(e,{}))}else console.error(e+" was not found upon request"),n(void 0)},o.open("GET",e,!0),o.send()},h=function(e,t){var n=i[e];if(n)for(var o in n){var r=n[o].apply(null,t);if(r===!1)return!1}},m=function(e,n){if(void 0===n&&(n={}),58===e.charCodeAt(4)||58===e.charCodeAt(5))return c(e);var i=d(e,n);if(i.server)return i.server;var r=i.file;if(i.wildcard){var s=new RegExp(i.wildcard.replace(/\*/g,"@").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&").replace(/@/g,"[a-z0-9$_-]+"),"i"),u=o[i.pkgName];if(u){var f={};for(var l in u.f)s.test(l)&&(f[l]=m(i.pkgName+"/"+l));return f}}if(!r){var v="function"==typeof n;if(h("async",[e,n])===!1)return;return p(e,function(e){if(v)return n(e)})}var w=i.validPath,g=i.pkgName;if(r.locals&&r.locals.module)return r.locals.module.exports;var y=r.locals={},b=a(w);y.exports={},y.module={exports:y.exports},y.require=function(e,t){return m(e,{pkg:g,path:b,v:i.versions})},y.require.main={filename:t?"./":global.require.main.filename,paths:t?[]:global.require.main.paths};var x=[y.module.exports,y.require,y.module,w,b,g];return h("before-import",x),r.fn.apply(0,x),h("after-import",x),y.module.exports},v=function(){function n(){}return n.global=function(e,n){var o=t?window:global;return void 0===n?o[e]:void(o[e]=n)},n.import=function(e,t){return m(e,t)},n.on=function(e,t){i[e]=i[e]||[],i[e].push(t)},n.exists=function(e){try{return void 0!==d(e,{}).file}catch(e){return!1}},n.remove=function(e){var t=d(e,{}),n=o[t.pkgName];n&&n.f[t.validPath]&&delete n.f[t.validPath]},n.main=function(e){return this.mainFile=e,n.import(e,{})},n.expose=function(t){for(var n in t)!function(n){var o=t[n],i=o.alias,r=m(o.pkg);"*"===i?f(r,function(t,n){return e[t]=n}):"object"==typeof i?f(i,function(t,n){return e[n]=r[t]}):e[i]=r}(n)},n.dynamic=function(t,n,o){var i=o&&o.pkg||"default";this.pkg(i,{},function(o){o.file(t,function(t,o,i,r,a){new Function("__fbx__dnm__","exports","require","module","__filename","__dirname","__root__",n)(!0,t,o,i,r,a,e)})})},n.flush=function(e){var t=o.default;for(var n in t.f){if(!e||e(n)){delete t.f[n].locals}}},n.pkg=function(e,t,n){if(o[e])return n(o[e].s);var i=o[e]={},r=i.f={};return i.v=t,n(i.s={file:function(e,t){r[e]={fn:t}}})},n.addPlugin=function(e){this.plugins.push(e)},n}();return v.packages=o,v.isBrowser=void 0!==t,v.isServer=!t,v.plugins=[],e.FuseBox=v}(this));</script>
	
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	
		ga('create', 'UA-90567923-1', 'auto');
		ga('send', 'pageview');
	</script></head>
<body class="tk-pt-serif">
	
	<h2 class="prose prose-big">Pop songs compressed by the Lempel-Ziv algorithm</h2>
	
	
	<div id="compression">
	</div>
	
	<p class="prose">
	<a href="https://en.wikipedia.org/wiki/LZ77_and_LZ78">Lempel-Ziv</a> is a lossless compression algorithm. PNG, GIF, and gzip are all powered by variants of Lempel-Ziv. The algorithm works by exploiting repeated sequences of characters (or bytes). Pop songs happen to have lots of these, so LZ compresses them very efficiently.
	</p>
	
	<p class="prose">
	For more context, and a brief explanation of Lempel-Ziv compression, check out my essay on <a href="https://pudding.cool/2017/05/song-repetition">Measuring repetitiveness of song lyrics</a>.
	</p>
	
	<h2 class="prose prose-big">Technical details</h2>
	
	<ul class="prose">
	
	<li>
	Size reduction is calculated by counting matches (i.e. the blue circles) as taking up the same space as 3 characters. For example, replacing a string of length 4 saves 1 character, replacing a length 10 string saves 7 characters etc. A typical implementation of LZ encodes a match as an 8-bit length and a 15-bit distance, so 3 bytes is pretty realistic. (A compressor optimized for pop songs would likely use fewer bits for distance, given that songs are usually shorter than 2<sup>15</sup> characters in total.)
	</li>
	
	<li>
	The compressions shown here were generated by <a href="https://github.com/google/zopfli">zopfli</a>, which is similar to gzip but produces slightly more efficient compressions (at the cost of speed).
	</li>
	
	<li>
	In real applications (like gzip) the output of the LZ algorithm is usually further compressed using Huffman coding - this combo is embodied in the <a href="https://en.wikipedia.org/wiki/DEFLATE">DEFLATE</a> algorithm/format. That step isn't illustrated here, and isn't taken into account when calculating the size reduction. (I wanted to use compressibility as a proxy for measuring lyrical repetitiveness. The LZ algorithm has a clear connection with repeated words and phrases, but Huffman coding does not - it exploits differences in character frequencies.) I used <a href="https://github.com/madler/infgen">infgen</a> to parse out the pre-Huffman'd data from DEFLATE files generated by zopfli/gzip.
	</li>
	
	</ul>

	<main>

	</main>

	<script src="bundle.js?version=1494427462127"></script>
	<script src="https://pudding.cool/assets/scripts/pudding-footer.js" async></script>
</body>
</html>
